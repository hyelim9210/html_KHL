<!DOCTYPE html>
<html>
<head>
<!-- 
나는 easyUI API를 활용하여 화면을 구성할 수 있다.
나는 easyUI에서 지원하는 태그 속성들을 자바스크립트 언어를 활용하여 조작할 수 있다.
 -->
<meta charset="UTF-8">
<title>Insert title here</title>
	<link rel="stylesheet" type="text/css" href="https://www.jeasyui.com/easyui/themes/default/easyui.css">
    <link rel="stylesheet" type="text/css" href="https://www.jeasyui.com/easyui/themes/icon.css">
    <link rel="stylesheet" type="text/css" href="https://www.jeasyui.com/easyui/themes/color.css">
    <link rel="stylesheet" type="text/css" href="https://www.jeasyui.com/easyui/demo/demo.css">
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="https://www.jeasyui.com/easyui/jquery.easyui.min.js"></script>
	<script type="text/javascript">
		function searchList(){
			alert("조회 버튼 클릭 성공");
			$("#dg_member").datagrid({
				//페이지가 열릴 때 데이터를 조회하는 것이 아니라 조회 버튼을
				//눌렀을 때 조회하도록 해보자
				url : "../../json/dept.json"
			  , onLoadSuccess : function(data){
			//	  alert("dg_member loading success!");
				  alert("selectList : " + data);
			  }////이게 중요하다.
			});
		}
	</script>
</head>
<body>
	<table id = "dg_member" class="easyui-datagrid"></table>
	<script type="text/javascript">
		$(document).ready(function (){
			$("#dg_member").datagrid({
			 ///div가 toolbar이다. 그걸 지우고 아래 추가해보자
			   toolbar: [{
				  	text: '조회'
				  , iconCls: 'icon-search'
				  , handler: function(){searchList()}
				},'-',{//하이픈은 버튼 사이에 막대기 생김
				  	text: '입력'
				  , iconCls: 'icon-add'
				  , handler: function(){alert('입력')}
				},'-',{
				  	text: '수정'
				  , iconCls: 'icon-edit'
				  , handler: function(){alert('수정')}
				},'-',{
				  	text: '삭제'
				  , iconCls: 'icon-remove'
				  , handler: function(){alert('삭제')}
				}]
			  , title : "회원관리"
			  , width : 700
			  , height : 500
			  , columns:[[
				    {field:'deptno',title:'deptno'}
				  , {field:'loc',title:'loc'}
				]]
			//  , data : [//datagrid에 출력될 값(상수값)
			//	  {deptno:'value1', loc:'value12'}
			//	, {deptno:'value2', loc:'value22'}
			//    ]///상수로 값을 넣어놓는 경우는 없다. 이 코드 때문에 onLoadSuccess가 두 번 나온다. 이걸 지우면 onLoadSuccess가 한 번만 나온다
			  , onDblClickRow : function(index, row){
				  //여기서 인덱스 값과 로우 값을 확인할 수 있다.
				  alert("index : " + index + ", row : " + row.loc);
			  }
			  , onLoadSuccess : function(data){
				  alert("안녕" + data)
			  }
			});
		});
	</script>
</body>
</html>